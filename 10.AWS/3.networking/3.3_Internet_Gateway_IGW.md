
# 3.3 Internet Gateway (IGW) – AWS Networking

## 1. What is an Internet Gateway?

An **Internet Gateway (IGW)** is a horizontally scaled, redundant, and highly available **VPC component** that allows **communication between instances in your VPC and the internet**.

It enables:
- **Outbound traffic** to the internet
- **Inbound traffic** from the internet (when allowed by Security Groups)

---

## 2. Key Properties

| Feature                   | Description                                              |
|---------------------------|----------------------------------------------------------|
| **Managed by AWS**        | Fully redundant and fault-tolerant                       |
| **Attached to VPC**       | One IGW per VPC                                          |
| **Used with public subnets** | Required to route public traffic                      |
| **No charge**             | Free to use                                              |
| **Scalable**              | Automatically handles bandwidth scaling                  |

---

## 3. How It Works

To allow public internet access:
1. Attach an **IGW** to your VPC
2. Create a **public subnet** with a route table entry:
   ```
   Destination: 0.0.0.0/0
   Target: Internet Gateway (igw-xxxxxxxx)
   ```
3. Ensure instances have:
   - **Public IP address** (or Elastic IP)
   - Security group allowing inbound access

---

## 4. Attaching an IGW

```bash
# Create IGW
aws ec2 create-internet-gateway

# Attach IGW to VPC
aws ec2 attach-internet-gateway \
    --internet-gateway-id igw-xxxxxx \
    --vpc-id vpc-xxxxxx
```

---

## 5. Public vs Private Subnet (IGW Usage)

| Subnet Type     | Internet Gateway Route | Public IP | Internet Access |
|------------------|------------------------|-----------|------------------|
| **Public Subnet**| ✅ Yes                | ✅ Required | ✅ Yes          |
| **Private Subnet**| ❌ No                | ❌ Not needed | ❌ No          |

---

## 6. IGW and Security

- IGW **does not bypass Security Groups**
- Must allow **inbound and outbound traffic explicitly**
- Use **Network ACLs** for additional control at the subnet level

---

## 7. Common Use Cases

- Hosting public-facing websites (e.g., EC2 web server)
- Enabling internet software updates on public subnets
- Allowing SSH/RDP into bastion hosts from internet
- Using Elastic IPs for services that require static IP addresses

---

## 8. IGW vs NAT Gateway

| Feature               | Internet Gateway                  | NAT Gateway                          |
|------------------------|-----------------------------------|---------------------------------------|
| Used By               | Public subnets                    | Private subnets                       |
| Traffic Direction     | Bi-directional (inbound & outbound) | Outbound only                        |
| Requires Public IP    | ✅ Yes                            | ❌ No                                 |
| Internet Access       | ✅ Yes                            | ✅ Yes (for outbound only)           |

---

## 9. Best Practices

- **One IGW per VPC** is sufficient
- Use **Elastic IPs** if static public IPs are needed
- Use **NAT Gateway** for secure backend outbound access
- Limit internet access via **Security Groups and NACLs**
- Monitor access via **VPC Flow Logs and CloudTrail**

---
![Screenshot 2025-03-30 at 4 50 21 PM](https://github.com/user-attachments/assets/e697af61-9763-481d-96df-fc2f9eaef0e2)

![Screenshot 2025-03-30 at 4 52 35 PM](https://github.com/user-attachments/assets/af461934-0123-46d9-9657-b166fd0d7293)

**Last Updated:** March 30, 2025
