
# 3.10 Hybrid Networking – Site-to-Site VPN, CloudHub, Direct Connect, Direct Connect Gateway, and Transit Gateway

## 1. Site-to-Site VPN

A **Site-to-Site VPN** connects your on-premises network to your AWS VPC over an **IPSec-encrypted** connection using a **virtual private gateway**.

### Features:
- **Encrypted IPsec tunnel**
- Supports **BGP or static routing**
- **Up to 1.25 Gbps** throughput (depends on internet conditions)
- Used for secure hybrid connectivity

---

## 2. VPN CloudHub

**VPN CloudHub** allows you to connect **multiple on-premises sites** to AWS using **multiple VPN connections to the same Virtual Private Gateway (VGW).**

### Use Case:
- Multi-site network environments (e.g., branch offices)
- Centralized communication via AWS

### Architecture:
```
  On-prem 1 -----\
                   \           Site-to-Site VPN
  On-prem 2 --------> [ VGW on AWS ] <--------- On-prem 3
```

---

## 3. AWS Direct Connect

**AWS Direct Connect (DX)** provides a **dedicated network connection** between your premises and AWS.

### Features:
- **Private connection**, bypassing the internet
- Supports **1 Gbps to 100 Gbps**
- Consistent latency and higher reliability
- Supports **802.1q VLAN tagging**

### Use Case:
- Low-latency apps
- High-throughput data transfer
- Regulatory compliance

---

## 4. Direct Connect Gateway (DX Gateway)

A **Direct Connect Gateway** enables you to connect **one or more Direct Connect connections to multiple VPCs** (even across regions).

### Benefits:
- Centralized connectivity model
- Avoids redundant VPNs or DX connections per VPC
- **Global access** across regions

---

## 5. Transit Gateway (TGW)

**Transit Gateway** acts as a **central hub** that connects multiple VPCs and on-premises networks.

### Features:
- Supports **VPC peering, VPN, DX**, and **TGW peering**
- Supports **transitive routing**
- Highly scalable (1000s of attachments)
- Simplifies complex VPC topologies

### Use Case:
- Hub-and-spoke network designs
- Large-scale hybrid connectivity
- Shared services environments

---

## 6. Comparison Table

| Feature                   | Site-to-Site VPN       | Direct Connect            | Transit Gateway              |
|---------------------------|------------------------|---------------------------|-------------------------------|
| Type                      | Encrypted internet     | Dedicated private link    | Routing hub                   |
| Performance               | Up to ~1.25 Gbps       | Up to 100 Gbps            | Depends on attachment         |
| Latency                   | Variable               | Low and consistent        | Depends on underlying link    |
| Internet Required         | ✅ Yes                 | ❌ No                      | Depends on attachment         |
| Redundancy Support        | Manual                 | Redundant links possible  | Multi-AZ built-in             |
| Cross-Region              | ❌ No (by default)     | ✅ With DX Gateway         | ✅ With TGW peering            |
| Transitive Routing        | ❌ No                  | ❌ No                      | ✅ Yes                         |

---

## 7. Best Practices

- Use **Direct Connect** for critical workloads requiring **low latency and high throughput**
- Use **VPN** for backup or temporary connectivity
- Use **Transit Gateway** to **simplify routing** across many VPCs
- Always implement **redundancy** (2 VPN tunnels, 2 DX connections)
- Monitor connectivity using **CloudWatch metrics** and **VPC Flow Logs**

---

**Last Updated:** March 31, 2025
